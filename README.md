# Silex API Skeleton

A simple and up to date silex skeleton to build your API.

# Packages

- Monolog
  - Monolog is a easy way to keep logs in your application, it's easy to use and is possible to create graphs to analyze better your logs.
- Doctrine
  - Database abstraction layer
- CORS
  - Add CORS validation into your API
- PHPDOTENV
  - Allow us to use **.env** files instead of static PHP files to store configurations
- Annotation
  - Uses annotation to create routes to be used in the application

# Executables

This skeleton provides to you all executables need to run you tests for example or
to run the composer to install the dependencies, usually you must have those
installed in your machine but here it is easier as well.

### Running composer

```
git clone https://github.com/marabesi/silex-api-skeleton.git && cd silex-api-skeleton

php bin/composer.phar install
```

### Running phpcs

```
git clone https://github.com/marabesi/silex-api-skeleton.git && cd silex-api-skeleton

php bin/phpcs.phar -h
```

### Running codeception

```
git clone https://github.com/marabesi/silex-api-skeleton.git && cd silex-api-skeleton

php bin/codecept.phar -h
```

# Configuration

Often we do need to define configurations to be used through the application,
to provide that in this skeleton we use the **.env** pattern. This pattern
allow us to define environment variables outside the project structure.

URL, database connection, log level are the most common configurations used
across the project.

The **env.example** inside this project has some default keys to be used, but to use them
you need first rename the file in the project root. To do that just run the following command
inside the project's folder

```
mv env.example .env
```

Now you're ready to go, of course you need to provide valid values to your application to work

```
# Whe this is setted to true the debug log is activated
DEBUG=false
DB_DRIVER=
DB_HOST=
DB_USER=
DB_PASSWORD=
```

# Directory structure

In this section you can know more about the structure being used

```
|__bin                           # executables
    |__ codecept.phar            #
    |__ composer.phar            #  
    |__ phpcs.phar               #
|__resources                     # The resources folder is the right place to add configurations, sql scripts, or other possible "assets" of the project            
   |_ config                     #
   |_sql                         #
|__src                           # source of your application, you should store all your custom classes here
|__storage                       # stores files generated by the application
      |__ cache                  # store cache files
      |__ logs                   # store logs files
|__tests                         #
     |__acceptance               # acceptance folder test
     |__functional               # functional folder test
     |__unit                     # unit folder test
|__web                           # public directory where all the request come from

```

# Tests

This project uses the [codeception](http://codeception.com/) framework to run the tests. Codeception is a easy
and a complete solution to run unit, function and acceptance test all at once.

# Log
